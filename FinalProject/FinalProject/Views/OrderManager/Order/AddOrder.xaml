<Window x:Class="FinalProject.Views.OrderManager.Order.AddOrder"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Order" Height="600" Width="800"
        WindowStyle="None" AllowsTransparency="True" Background="AliceBlue" Topmost="True">

    <Grid Margin="10" MouseLeftButtonDown="Grid_MouseLeftButtonDown">
        <!-- 11 hàng -->
        <Grid.RowDefinitions>
            <RowDefinition Height="2*"/>
            <!-- Title -->
            <RowDefinition Height="1*"/>
            <!-- Customer info -->
            <RowDefinition Height="1*"/>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="1*"/>
            <!-- Status -->
            <RowDefinition Height="1*"/>
            <!-- Chọn sản phẩm -->
            <RowDefinition Height="1*"/>
            <!-- Hiển thị Price -->
            <RowDefinition Height="1*"/>
            <!-- Nhập Quantity -->
            <RowDefinition Height="1*"/>
            <!-- Nút Add Product -->
            <RowDefinition Height="*"/>
            <!-- DataGrid danh sách sản phẩm -->
            <RowDefinition Height="3*"/>
            <!-- Nút Save/Close -->
            <!-- Status -->
            <RowDefinition Height="2*"/>
            <!-- Chọn sản phẩm -->

        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Tiêu đề -->
        <TextBlock Grid.ColumnSpan="2" Text="Add Order" FontSize="22" FontWeight="Bold" Margin="5"/>

        <!-- Thông tin đơn hàng -->
        <TextBlock Grid.Row="1" Grid.Column="0" Text="CustomerID:" VerticalAlignment="Center"/>
        <ComboBox Grid.Row="1" Grid.Column="1" Width="300" Margin="5"
                      ItemsSource="{Binding CustomerList}"
                      SelectedItem="{Binding SelectedCustomer, Mode=TwoWay}"
                      DisplayMemberPath="CustomerId"/>

        <TextBlock Grid.Row="2" Grid.Column="0" Text="Fullname:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="2" Grid.Column="1" Width="300" Margin="5"
                     Text="{Binding TextBoxItem.FullName, Mode=TwoWay}" IsReadOnly="True"/>

        <TextBlock Grid.Row="3" Grid.Column="0" Text="Address:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="3" Grid.Column="1" Width="300" Margin="5"
                     Text="{Binding TextBoxItem.Address, Mode=TwoWay}"/>

        <TextBlock Grid.Row="4" Grid.Column="0" Text="PhoneNumber:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="4" Grid.Column="1" Width="300" Margin="5"
                     Text="{Binding TextBoxItem.PhoneNumber, Mode=TwoWay}"/>

        <TextBlock Grid.Row="5" Grid.Column="0" Text="Status:" VerticalAlignment="Center"/>
        <ComboBox Grid.Row="5" Grid.Column="1" Width="300" Margin="5">
            <ComboBoxItem Content="Pending" IsSelected="True"/>
        </ComboBox>

        <TextBlock Grid.Row="6" Grid.Column="0" Text="Delivered Date:" VerticalAlignment="Center"/>
        <DatePicker Grid.Row="6" Grid.Column="1" Width="300" Margin="5"
            SelectedDate="{Binding TextBoxItem.DeliveredDate, Mode=TwoWay}" />


        <!-- Nhập chi tiết sản phẩm -->
        <TextBlock Grid.Row="7" Grid.Column="0" Text="Product:" VerticalAlignment="Center"/>
        <ComboBox Grid.Row="7" Grid.Column="1" Width="300" Margin="5"
                      ItemsSource="{Binding ProductList}"
                      SelectedItem="{Binding SelectedProduct, Mode=TwoWay}"
                      DisplayMemberPath="FullName"/>

        <TextBlock Grid.Row="8" Grid.Column="0" Text="Price:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="8" Grid.Column="1" Width="300" Margin="5"
                     Text="{Binding TextBoxProduct.Price, Mode=TwoWay}" IsReadOnly="True"/>

        <TextBlock Grid.Row="9" Grid.Column="0" Text="Quantity:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="9" Grid.Column="1" Width="300" Margin="5"
                     Text="{Binding NewOrderDetailQuantity, Mode=TwoWay}"/>

        <!-- Nút Add Product -->
        <Button Grid.Row="10" Grid.Column="1" Content="Add Product" Margin="5" Width="150"
                    Command="{Binding AddProductDetailCommand}"/>

        <!-- DataGrid hiển thị danh sách sản phẩm đã thêm -->
        <DataGrid Grid.Row="11" Grid.ColumnSpan="2" ItemsSource="{Binding NewOrderDetails}"
                      AutoGenerateColumns="False" Margin="5" Height="120">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Product ID" Binding="{Binding ProductId}" Width="*"/>
                <DataGridTextColumn Header="Price" Binding="{Binding Price}" Width="*"/>
                <DataGridTextColumn Header="Quantity" Binding="{Binding Quantity}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Nút Save Order và Close -->
        <StackPanel Grid.Row="12" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="5">
            <Button Content="Save Order" Width="100" Margin="5" Command="{Binding AddCommand}"/>
            <Button Content="Close" Width="100" Margin="5" Click="Close_Click"/>
        </StackPanel>
    </Grid>

</Window>
